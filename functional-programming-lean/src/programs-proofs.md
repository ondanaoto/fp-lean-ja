# プログラミング、証明、そしてパフォーマンス

この章はプログラミングについてです。
プログラムは正しい結果を計算する必要がありますが、効率的に行うことも必要です。
効率的な関数型プログラムを書くためには、データ構造を適切に使用する方法と、プログラムを実行するのに必要な時間と空間を考える方法の両方を知ることが重要です。

この章はまた、証明についても述べています。
Leanで効率的なプログラミングにおいて最も重要なデータ構造の一つは配列ですが、配列のインデックスが範囲内にあることを証明することによってのみ、配列を安全に使用することができます。
さらに、多くの興味深い配列上のアルゴリズムは構造的な再帰のパターンに従わない代わりに、配列を反復処理します。
これらのアルゴリズムは終了しますが、Leanが自動的にこれをチェックできるとは限りません。
証明はなぜプログラムが終了するのかを示すために使用できます。

プログラムを書き換えてより速くすることは、しばしば理解が難しいコードになる原因になります。
証明はまた、異なるアルゴリズムや実装技術を使用しても、二つのプログラムが常に同じ答えを計算することを示すこともできます。
このようにして、遅いがわかりやすいプログラムは、速くて複雑なバージョンの仕様として機能することができます。

証明とプログラムを組み合わせることで、プログラムは安全かつ効率的になります。
証明により、ランタイムの境界チェックの省略が可能になり、多くのテストが不要になり、ランタイムパフォーマンスのオーバーヘッドを導入することなく非常に高いレベルの信頼性がプログラムに提供されます。
しかし、プログラムに関する定理を証明することは時間がかかり、費用がかかる場合があるため、他のツールがしばしばより経済的です。

対話型定理証明は深いトピックです。
この章は、Leanでプログラミングを行いながら実際に発生する証明に向けてのみの味わいを提供します。
ほとんどの興味深い定理はプログラミングと密接に関連していません。
より多くを学ぶためのリソースのリストについては、[次のステップ](next-steps.md)を参照してください。
しかし、プログラミングを学ぶときと同様に、証明を書くことを学ぶには実践的な経験が代わりになるものではありません—始める時が来ました！